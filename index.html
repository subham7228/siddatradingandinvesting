<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SIDDA TRADING AND INVESTING</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap');
    .chat-msg span {
  font-weight: bold;
  font-family: 'Segoe UI', sans-serif;
}
.market-mood {
  text-align: center;
  padding: 30px;
  margin: 10px auto;
  font-size: 20px;
  animation: pop-in 5s infinite;
}

@keyframes pop-in {
  0% { transform: scale(0.5); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

#market-emoji {
  font-size: 30px;
  display: rgba(43, 61, 153, 0.735);
  margin-bottom: 20px;
}


.tertiary-nav {
  background: var(--nav-bg);
  padding: 20px;
  text-align: center;
  margin-top: 5px;
}

.live-market-toggle {
  color: #03ce6c;
  font-weight: bold;
  cursor: pointer;
  font-size: 17px;
  text-shadow: 1px 1px 2px #000;
}

.live-market-toggle:hover {
  color: #ffd700;
}

.glow-quote {
  color: #e30618;
  text-align: center;
  font-size: 15px;
  font-style: bold;
  margin-top: 0px;
  text-shadow: 0 0 20px rgb(5, 1, 0), 0 0 20px rgb(0, 0, 0), 0 0 30px rgb(0, 38, 255);
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.6; }
  100% { opacity: 1; }
}
.stock-ticker {
  background: #111;
  color: #0f0;
  font-weight: bold;
  padding: 10px;
  border-bottom: 2px solid #444;
  font-family: monospace;
}

.chat-msg.user span {
  color: #007bff; /* Blue for user */
}

.chat-msg.bot span {
  color: #c70fce; /* Green for bot */
}

body.dark-mode .chat-msg.user span {
  color: #6666ff;
}

body.dark-mode .chat-msg.bot span {
  color: #ee04ee;
}

    .chatbot-container {
  position: fixed;
  bottom: 20px;
  left: 20px;
  width: 300px;
  background: var(--section-bg);
  border: 2px solid var(--header-bg);
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  font-size: 14px;
  z-index: 9999;
}

.chat-header {
  background: var(--header-bg);
  color: white;
  padding: 10px;
  font-weight: bold;
  cursor: pointer;
  text-align: center;
}

.chat-body {
  max-height: 200px;
  overflow-y: auto;
  padding: 10px;
  background: var(--section-bg);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.chat-msg {
  padding: 8px 12px;
  border-radius: 8px;
  max-width: 85%;
}

.chat-msg.user {
  background-color: #d9edf7;
  align-self: flex-end;
}

.chat-msg.bot {
  background-color: #e2e3e5;
  align-self: flex-start;
}

.chat-input-area {
  display: flex;
  border-top: 1px solid #ccc;
}

.chat-input-area input {
  flex: 1;
  border: none;
  padding: 10px;
  font-size: 14px;
}

.chat-input-area button {
  border: none;
  background: var(--btn-bg);
  color: white;
  padding: 10px;
  font-weight: bold;
  cursor: pointer;
}
    :root {
      --bg-color: #f0f4f8;
      --bg-gradient: linear-gradient(to right, #f0f4f8, #d9e2ec);
      --text-color: #000;
      --section-bg: #ffffff;
      --header-bg: #0e3c68;
      --nav-bg: #17598b;
      --tagline-color: #000;
      --table-head: #e8eff7;
      --invest-row: #d4edda;
      --avoid-row: #f8d7da;
      --btn-bg: #0e3c68;
      --delete-bg: #c0392b;
    }

    body.dark-mode {
      --bg-color: #1e1e1e;
      --bg-gradient: linear-gradient(to right, #1e1e1e, #2e2e2e);
      --text-color: #f0f0f0;
      --section-bg: #2a2a2a;
      --header-bg: #0e3c68;
      --nav-bg: #123d5a;
      --tagline-color: #ffffff;
      --table-head: #3c3c3c;
      --invest-row: #2f5034;
      --avoid-row: #512a2a;
      --btn-bg: #264d73;
      --delete-bg: #b33a3a;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: var(--bg-gradient);
      color: var(--text-color);
      background-attachment: fixed;
    }

    header {
      background: var(--header-bg);
      color: white;
      text-align: center;
      padding: 0;
      position: relative;
    }

    .header-wrapper {
      background-color: #132f4c;
      padding: 20px;
    }

    header img.logo {
      width: 180px;
      display: circle;
      margin: 0 auto 20px;
    }

    header h1 {
      font-family: 'Playfair Display', serif;
      font-size: 36px;
      margin: 5px 0;
      letter-spacing: 2px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.4);
      background: linear-gradient(90deg, red, orange, rgb(27, 128, 205), rgb(136, 19, 118), violet);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .tagline {
      font-weight: bold;
      font-size: 22px;
      margin-top: 8px;
      color: var(--tagline-color);
      background: linear-gradient(90deg, #ce10db, #7c3a14, #da07da);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .theme-toggle {
      position: absolute;
      top: 15px;
      right: 20px;
      background-color: #ffffff22;
      border: none;
      padding: 8px 16px;
      color: white;
      cursor: pointer;
      font-weight: bold;
      border-radius: 5px;
    }

    nav, .secondary-nav {
      background: var(--nav-bg);
      padding: 12px;
      text-align: center;
    }

    nav a, .secondary-nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }

    .secondary-nav a:hover {
      color: #ffd700;
    }

    section {
      display: none;
      padding: 20px;
      background-color: var(--section-bg);
    }

    section.active {
      display: block;
    }

    h2, h3 {
      color: var(--text-color);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }

    th {
      background-color: var(--table-head);
    }

    .mutual-tabs, .stock-tabs {
      margin-bottom: 10px;
    }

    .mutual-tabs button, .stock-tabs button {
      padding: 8px 16px;
      margin-right: 8px;
      background: var(--btn-bg);
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }

    .mutual-table, .stock-table {
      display: none;
    }

    .mutual-table.active, .stock-table.active {
      display: table;
    }

    .invest-row {
      background-color: var(--invest-row);
    }

    .avoid-row {
      background-color: var(--avoid-row);
    }

    .contact-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #25D366;
      color: white;
      border: none;
      padding: 10px 20px;
      font-weight: bold;
      border-radius: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      gap: 10px;
    }

    .contact-button img {
      width: 24px;
      height: 24px;
    }

    #portfolio input {
      margin: 5px;
      padding: 5px;
    }

    #portfolio button {
      padding: 5px 10px;
      background: var(--btn-bg);
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }

    footer {
      background: var(--header-bg);
      color: white;
      text-align: center;
      padding: 20px;
    }

    .delete-btn {
      background: var(--delete-bg);
      color: white;
      border: none;
      padding: 5px 10px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 3px;
    }

    #latest-news ul {
      list-style: none;
      padding-left: 0;
    }

    #latest-news li {
      background: var(--section-bg);
      border-left: 5px solid var(--header-bg);
      padding: 10px;
      margin-bottom: 8px;
      box-shadow: 1px 1px 6px rgba(0,0,0,0.1);
    }
    #loginForm {
  background-image: url('images/investment-chart.jpg'); /* <-- update path if needed */
  background-size: cover;
  background-position: center;
  height: 100px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-weight: bold;
  font-size: 20px;
  border-radius: 10px;
  color: #ff2828;
  padding: 20px;
  margin-top: 20px;
}
body.dark-mode #loginForm {
  color: #fff;
}

  </style>
</head>
<body>
  <header>
    <div class="header-wrapper">
      <img src="images/logo.png" alt="Company Logo" class="logo" />
      <h1>SIDDA TRADING AND INVESTING</h1>
      <div class="tagline" style="color: #8917d5;">GROW YOUR MONEY WITH US</div>
      <button class="theme-toggle" onclick="toggleTheme()">Dark Mode</button>
    </div>
  </header>
  <div class="stock-ticker">
    <marquee behavior="scroll" direction="left" scrollamount="8">
      📊 NIFTY 50: ₹22,123.45 ▲ | SENSEX: ₹73,111.00 ▼ | TCS: ₹3,456.00 ▲ | RELIANCE: ₹2,456.70 ▼ | HDFC BANK: ₹1,623.80 ▲
    </marquee>
  </div>

  <nav>
    <a onclick="showSection('stocks')">Stocks</a>
    <a onclick="showSection('etf')">ETF</a>
    <a onclick="showSection('mutual')">Mutual Funds</a>
    <a onclick="showSection('ipos')">IPOs</a>
    <a onclick="showSection('fd')">Fixed Deposits</a>
  </nav>

  <div class="secondary-nav">
    <a onclick="showSection('portfolio')">Show Your Portfolio</a>
    <a onclick="showSection('latest-news')">Latest News</a>
    <a onclick="showSection('calculator')">Smart Calculator</a>
  </div>
  <div class="tertiary-nav">
    <div class="live-market-toggle" onclick="toggleLiveMarket()">
      📊 LIVE MARKET
    </div>
  </div>
  <section id="stocks">
    <h2>Stocks Recommendation</h2>
    <div class="stock-tabs">
      <button onclick="showStockTable('longTerm')">Long Term</button>
      <button onclick="showStockTable('midTerm')">Mid Term</button>
      <button onclick="showStockTable('shortTerm')">Short Term</button>
    </div>
    <table id="longTerm" class="stock-table">
      <tr><th>Stock Name</th><th>Buying Price</th><th>Selling Price</th><th>Time Duration</th></tr>
      <tr><td>Reliance</td><td>2300</td><td>2800</td><td>2 Years</td></tr>
    </table>
    <table id="midTerm" class="stock-table">
      <tr><th>Stock Name</th><th>Buying Price</th><th>Selling Price</th><th>Time Duration</th></tr>
      <tr><td>TCS</td><td>3100</td><td>3600</td><td>1 Year</td></tr>
    </table>
    <table id="shortTerm" class="stock-table">
      <tr><th>Stock Name</th><th>Buying Price</th><th>Selling Price</th><th>Time Duration</th></tr>
      <tr><td>Infosys</td><td>1400</td><td>1600</td><td>6 Months</td></tr>
    </table>
  </section>

  <section id="etf">
    <h2>ETF Recommendations</h2>
    <table>
      <tr><th>ETF Name</th><th>Buying Price</th><th>Target Price</th></tr>
      <tr><td>Nippon India ETF</td><td>200</td><td>250</td></tr>
      <tr><td>SBI ETF Nifty 50</td><td>210</td><td>260</td></tr>
    </table>
  </section>

  <section id="mutual">
    <h2>Mutual Fund Recommendations</h2>
    <div class="mutual-tabs">
      <button onclick="showMutualTable('largeCap')">Large Cap</button>
      <button onclick="showMutualTable('midCap')">Mid Cap</button>
      <button onclick="showMutualTable('smallCap')">Small Cap</button>
    </div>
    <table id="largeCap" class="mutual-table">
      <tr><th>Fund Name</th><th>1Y Return</th><th>3Y Return</th><th>5Y Return</th><th>Star</th></tr>
      <tr><td>Axis Bluechip</td><td>12%</td><td>38%</td><td>80%</td><td>4</td></tr>
    </table>
    <table id="midCap" class="mutual-table">
      <tr><th>Fund Name</th><th>1Y Return</th><th>3Y Return</th><th>5Y Return</th><th>Star</th></tr>
      <tr><td>Kotak Emerging Equity</td><td>15%</td><td>40%</td><td>85%</td><td>4</td></tr>
    </table>
    <table id="smallCap" class="mutual-table">
      <tr><th>Fund Name</th><th>1Y Return</th><th>3Y Return</th><th>5Y Return</th><th>Star</th></tr>
      <tr><td>Nippon Small Cap</td><td>18%</td><td>45%</td><td>90%</td><td>5</td></tr>
    </table>
  </section>

  <section id="ipos">
    <h2>IPO Recommendations</h2>
    <table>
      <tr><th>IPO Name</th><th>IPO GMP</th><th>Recommendation</th><th>Min Profit</th><th>Max Profit</th><th>Opening Date</th><th>Closing Date</th></tr>
      <tr class="invest-row"><td>ABC Ltd</td><td>₹50</td><td>Invest</td><td>₹2,000</td><td>₹4,000</td><td>2025-04-15</td><td>2025-04-18</td></tr>
      <tr class="avoid-row"><td>XYZ Tech</td><td>₹10</td><td>Avoid</td><td>₹0</td><td>₹500</td><td>2025-04-20</td><td>2025-04-22</td></tr>
    </table>
  </section>

  <section id="fd">
    <h2>Fixed Deposit Recommendations</h2>
    <table>
      <tr><th>Bank</th><th>FD Rate</th><th>Duration</th></tr>
      <tr><td>SBI</td><td>6.5%</td><td>5 Years</td></tr>
      <tr><td>HDFC</td><td>7%</td><td>3 Years</td></tr>
    </table>
  </section>

  <section id="portfolio">
    <h2>Your Portfolio</h2>
  
    <div id="loginForm">
      <p>Login with your email and password to access your portfolio:</p>
      <input type="email" id="userEmail" placeholder="Enter your email" required />
      
      <div style="position: relative;">
        <input type="password" id="userPassword" placeholder="Enter your password" required />
        <button type="button" onclick="togglePassword()" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); font-size: 12px;">Show</button>
      </div>
    
      <label style="display: block; margin-top: 5px;">
        <input type="checkbox" id="rememberMe" /> Remember Me
      </label>
    
      <button id="loginBtn" onclick="loginUser()">Login</button>
    </div>
    
    

    <div id="portfolioContent" style="display:none;">
      <p id="welcomeMsg"></p>

      <h3>Add Your Investment</h3>
      <input type="text" id="stockName" placeholder="Stock Name" />
      <input type="number" id="buyPrice" placeholder="Buy Price" />
      <input type="number" id="qty" placeholder="Quantity" />
      <button onclick="addStock()">Add</button>

      <h3>Your Stocks</h3>
      <table id="userStockTable">
        <tr><th>Stock Name</th><th>Buy Price</th><th>Quantity</th><th>Status</th><th>Action</th></tr>
      </table>
    </div>
  </section>

  <section id="latest-news">
    <h2>Latest Stock News (By Admin)</h2>
    <ul>
      <li><strong>10-Apr:</strong> Infosys declared Q4 results beating market expectations.</li>
      <li><strong>08-Apr:</strong> RBI announced new policy affecting interest rates.</li>
      <li><strong>05-Apr:</strong> Reliance to invest in AI technology partnerships.</li>
    </ul>
  </section>

  <section id="calculator" class="content-section">
    <h2>Smart Calculator</h2>
    <div class="calculator-menu">
      <button onclick="showCalculator('emi-calculator')">EMI Calculator</button>
      <button onclick="showCalculator('sip-calculator')">SIP Calculator</button>
      <button onclick="showCalculator('lumpsum-calculator')">Lumpsum Calculator</button>
      <button onclick="showCalculator('fd-calculator')">FD Calculator</button>
    </div>
  
    <div id="emi-calculator" class="calculator-section" style="display:none;">
      <h3>EMI Calculator</h3>
      <label>Loan Amount: <input type="number" id="loanAmount" /></label><br>
      <label>Interest Rate (%): <input type="number" id="interestRate" /></label><br>
      <label>Tenure (Years): <input type="number" id="tenure" /></label><br>
      <button onclick="calculateEMI()">Calculate EMI</button>
      <p id="emiResult"></p>
    </div>
  
    <div id="sip-calculator" class="calculator-section" style="display:none;">
      <h3>SIP Calculator</h3>
      <label>Monthly Investment: <input type="number" id="sipAmount" /></label><br>
      <label>Expected Annual Return (%): <input type="number" id="sipReturn" /></label><br>
      <label>Investment Period (Years): <input type="number" id="sipYears" /></label><br>
      <button onclick="calculateSIP()">Calculate SIP</button>
      <p id="sipResult"></p>
    </div>
  
    <div id="lumpsum-calculator" class="calculator-section" style="display:none;">
      <h3>Lumpsum Calculator</h3>
      <label>Investment Amount: <input type="number" id="lumpsumAmount" /></label><br>
      <label>Expected Annual Return (%): <input type="number" id="lumpsumReturn" /></label><br>
      <label>Investment Period (Years): <input type="number" id="lumpsumYears" /></label><br>
      <button onclick="calculateLumpsum()">Calculate Lumpsum</button>
      <p id="lumpsumResult"></p>
    </div>
  
    <div id="fd-calculator" class="calculator-section" style="display:none;">
      <h3>FD Calculator</h3>
      <label>Principal Amount: <input type="number" id="fdPrincipal" /></label><br>
      <label>Interest Rate (%): <input type="number" id="fdRate" /></label><br>
      <label>Tenure (Years): <input type="number" id="fdTenure" /></label><br>
      <button onclick="calculateFD()">Calculate FD</button>
      <p id="fdResult"></p>
    </div>   
    
  </section>
  <div class="market-mood">
    <span id="market-emoji">📈</span>
    <p id="mood-text">The market looks bullish today! Stay sharp. 🔥</p>
  </div>
  
  <section id="live-market" style="display: none;">
  <h2 id="market-date"></h2>
  <div style="display: flex; gap: 20px; flex-wrap: wrap;">
    <!-- Top Gainers -->
    <div style="flex: 1;">
      <h3>Top Gainers</h3>
      <table>
        <thead>
          <tr><th>Stock</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>Stock A</td><td>₹1520</td><td style="color: green;">+5.2%</td></tr>
          <tr><td>Stock B</td><td>₹880</td><td style="color: green;">+4.8%</td></tr>
          <tr><td>Stock C</td><td>₹1130</td><td style="color: green;">+3.6%</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Top Losers -->
    <div style="flex: 1;">
      <h3>Top Losers</h3>
      <table>
        <thead>
          <tr><th>Stock</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>Stock X</td><td>₹670</td><td style="color: red;">-6.1%</td></tr>
          <tr><td>Stock Y</td><td>₹1230</td><td style="color: red;">-5.3%</td></tr>
          <tr><td>Stock Z</td><td>₹450</td><td style="color: red;">-4.7%</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

  
  <a href="https://wa.me/916289685362" target="_blank" class="contact-button">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
    <span>Contact Me</span>
  </a>
  <div class="chatbot-container">
    <div class="chat-header" onclick="toggleChat()">KNOW ABOUT MARKET</div>
    <div class="chat-body" id="chatBody" style="display: flex;"></div>
    <div class="chat-input-area" style="display: flex;">
      <input type="text" id="userInput" placeholder="Ask something..." onkeypress="if(event.key==='Enter') sendMessage()" />
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>
  
  <footer>
    &copy; SIDDA TRADING AND INVESTING
  </footer>
  <div class="glow-quote"></div>
  <script>
    function toggleChat() {
  const body = document.querySelector('.chat-body');
  const inputArea = document.querySelector('.chat-input-area');
  const isVisible = body.style.display !== 'none';

  body.style.display = isVisible ? 'none' : 'flex';
  inputArea.style.display = isVisible ? 'none' : 'flex';
}

function sendMessage() {
  const input = document.getElementById("userInput");
  const msg = input.value.trim();
  if (!msg) return;

  appendMessage(msg, 'user');

  // Simulate AI response
  setTimeout(() => {
    const response = getBotReply(msg);
    appendMessage(response, 'bot');
  }, 500);

  input.value = "";
}

function appendMessage(text, sender) {
  const chatBody = document.getElementById("chatBody");
  const msgDiv = document.createElement("div");
  msgDiv.className = `chat-msg ${sender}`;
  
  // Wrap message text in a span to apply color
  msgDiv.innerHTML = `<span>${text}</span>`;
  
  chatBody.appendChild(msgDiv);
  chatBody.scrollTop = chatBody.scrollHeight;
}


// Placeholder AI logic – replace with real API call later
function getBotReply(msg) {
  msg = msg.toLowerCase();
  if (msg.includes("best stock")) return "Reliance and TCS are good options right now.";
  if (msg.includes("ipo")) return "ABC Ltd's IPO looks promising.";
  if (msg.includes("mutual fund")) return "Try Axis Bluechip for large cap exposure.";
  return "Sorry, I am still learning. Please ask something else!";
}

    // Theme toggle logic
    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    }

    // Load saved theme
    window.onload = () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
      }
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
    };

    // Existing JS functions
    function showSection(id) {
      document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function showStockTable(term) {
      document.querySelectorAll('.stock-table').forEach(tbl => tbl.classList.remove('active'));
      document.getElementById(term).classList.add('active');
    }

    function showMutualTable(type) {
      document.querySelectorAll('.mutual-table').forEach(tbl => tbl.classList.remove('active'));
      document.getElementById(type).classList.add('active');
    }

    function loginUser() {
  const email = document.getElementById('userEmail').value;
  const password = document.getElementById('userPassword').value;

  if (!email || !email.includes("@")) {
    alert("Please enter a valid email.");
    return;
  }

  if (!password || password.length < 4) {
    alert("Please enter a valid password (min 4 characters).");
    return;
  }

  // Simulate a successful login (you can enhance this with real backend validation later)
  localStorage.setItem('portfolioEmail', email);
  document.getElementById('loginForm').style.display = 'none';
  document.getElementById('portfolioContent').style.display = 'block';
  document.getElementById('welcomeMsg').textContent = `Welcome, ${email}`;
  loadStocks();
}


    function addStock() {
      const stock = document.getElementById('stockName').value;
      const price = document.getElementById('buyPrice').value;
      const qty = document.getElementById('qty').value;

      if (!stock || !price || !qty) {
        alert("Fill in all fields.");
        return;
      }

      let portfolio = JSON.parse(localStorage.getItem('portfolioData')) || [];
      portfolio.push({ stock, price, qty, status: "Pending review by admin" });
      localStorage.setItem('portfolioData', JSON.stringify(portfolio));
      loadStocks();
    }

    function deleteStock(index) {
      if (confirm("Are you sure you want to delete this stock?")) {
        let portfolio = JSON.parse(localStorage.getItem('portfolioData')) || [];
        portfolio.splice(index, 1);
        localStorage.setItem('portfolioData', JSON.stringify(portfolio));
        loadStocks();
      }
    }

    function loadStocks() {
  const table = document.getElementById('userStockTable');
  table.innerHTML = `<tr><th>Stock Name</th><th>Buy Price</th><th>Quantity</th><th>Status</th><th>Action</th></tr>`;

  let portfolio = JSON.parse(localStorage.getItem('portfolioData')) || [];
  portfolio.forEach((item, index) => {
    const row = table.insertRow();
    row.insertCell(0).textContent = item.stock;
    row.insertCell(1).textContent = item.price;
    row.insertCell(2).textContent = item.qty;
    row.insertCell(3).textContent = item.status;

    const deleteCell = row.insertCell(4);
    const deleteBtn = document.createElement("button");
    deleteBtn.textContent = "Delete";
    deleteBtn.className = "delete-btn";
    deleteBtn.onclick = () => deleteStock(index);
    deleteCell.appendChild(deleteBtn);
  });
}

    function togglePassword() {
  const passwordInput = document.getElementById("userPassword");
  const toggleBtn = passwordInput.nextElementSibling;
  if (passwordInput.type === "password") {
    passwordInput.type = "text";
    toggleBtn.textContent = "Hide";
  } else {
    passwordInput.type = "password";
    toggleBtn.textContent = "Show";
  }
}

function loginUser() {
  const email = document.getElementById('userEmail').value.trim();
  const password = document.getElementById('userPassword').value;
  const rememberMe = document.getElementById('rememberMe').checked;
  const loginBtn = document.getElementById('loginBtn');

  loginBtn.textContent = "Logging in...";

  if (!email || !email.includes("@") || !email.endsWith(".com")) {
    alert("⚠️ Please enter a valid email address (e.g., user@example.com).");
    loginBtn.textContent = "Login";
    return;
  }

  if (!password || password.length < 4) {
    alert("⚠️ Password must be at least 4 characters long.");
    loginBtn.textContent = "Login";
    return;
  }

  // Simulate backend check and response delay
  setTimeout(() => {
    if (rememberMe) {
      localStorage.setItem('portfolioEmail', email);
    } else {
      sessionStorage.setItem('portfolioEmail', email);
    }

    document.getElementById('loginForm').style.display = 'none';
    document.getElementById('portfolioContent').style.display = 'block';
    document.getElementById('welcomeMsg').textContent = `Welcome, ${email}`;
    loadStocks();
    loginBtn.textContent = "Login";
  }, 1000);
}
function showCalculator(calculatorId) {
  const calculators = document.querySelectorAll('.calculator-section');
  calculators.forEach(cal => cal.style.display = 'none');
  document.getElementById(calculatorId).style.display = 'block';
}

function calculateEMI() {
  const principal = parseFloat(document.getElementById("loanAmount").value);
  const annualRate = parseFloat(document.getElementById("interestRate").value);
  const years = parseFloat(document.getElementById("tenure").value);
  const monthlyRate = annualRate / 12 / 100;
  const months = years * 12;
  const emi = (principal * monthlyRate * Math.pow(1 + monthlyRate, months)) /
              (Math.pow(1 + monthlyRate, months) - 1);
  document.getElementById("emiResult").textContent = `Monthly EMI: ₹${emi.toFixed(2)}`;
}

function calculateSIP() {
  const amount = parseFloat(document.getElementById("sipAmount").value);
  const rate = parseFloat(document.getElementById("sipReturn").value) / 100 / 12;
  const months = parseFloat(document.getElementById("sipYears").value) * 12;
  const futureValue = amount * ((Math.pow(1 + rate, months) - 1) * (1 + rate)) / rate;
  document.getElementById("sipResult").textContent = `Future Value: ₹${futureValue.toFixed(2)}`;
}

function calculateLumpsum() {
  const principal = parseFloat(document.getElementById("lumpsumAmount").value);
  const rate = parseFloat(document.getElementById("lumpsumReturn").value) / 100;
  const years = parseFloat(document.getElementById("lumpsumYears").value);
  const amount = principal * Math.pow(1 + rate, years);
  document.getElementById("lumpsumResult").textContent = `Future Value: ₹${amount.toFixed(2)}`;
}

function calculateFD() {
  const principal = parseFloat(document.getElementById("fdPrincipal").value);
  const rate = parseFloat(document.getElementById("fdRate").value) / 100;
  const time = parseFloat(document.getElementById("fdTenure").value);
  const maturity = principal * Math.pow((1 + rate / 1), 1 * time);
  document.getElementById("fdResult").textContent = `Maturity Amount: ₹${maturity.toFixed(2)}`;
}
function toggleLiveMarket() {
    const section = document.getElementById("live-market");
    const dateHeading = document.getElementById("market-date");

    if (section.style.display === "none" || section.style.display === "") {
      const today = new Date();
      const formatted = today.toLocaleDateString('en-IN', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });
      dateHeading.textContent = "📅 Market Summary for " + formatted;
      section.style.display = "block";
    } else {
      section.style.display = "none";
    }
  }
  </script>
</body>
</html>
